# Валидатор и генератор кредитных карт

Это программа Go, которая предоставляет несколько функций для проверки, генерации и получения информации о номерах кредитных карт. Программа включает в себя следующие функции:

- **Проверка**: проверка действительности номера кредитной карты с использованием алгоритма Луна.
- **Генерация**: генерация действительных номеров кредитных карт путем замены звездочек (`*`) на цифры.
- **Информация**: получение марки и эмитента карты на основе номера карты.
- **Выпуск**: генерация случайного действительного номера кредитной карты для указанной марки и эмитента.

## Функции:

### 1. **Проверка**
Функция `валидации` проверяет действительность номера кредитной карты с использованием алгоритма Луна.

#### Требования:
- Номер карты должен быть длиной не менее 13 цифр.
- Если допустимо, вывести `OK` в `stdout` и выйти со статусом `0`.
- Если недопустимо, вывести `INCORRECT` в `stderr` и выйти со статусом `1`.
- Поддерживает передачу нескольких записей.
- Поддерживает флаг `--stdin` для передачи чисел из `stdin`.

#### Использование:
```bash
$ ./creditcard validate "4400430180300003"
OK

$ ./creditcard validate "4400430180300002"
INCORRECT

$ ./creditcard validate "4400430180300003" "4400430180300011"
OK
OK

$ echo "4400430180300003" | ./creditcard validate --stdin
OK

$ echo "4400430180300003" "4400430180300011" | ./creditcard validate --stdin
OK
OK
```

### 2. **Сгенерировать**
Функция `generate` создает возможные действительные номера кредитных карт, заменяя звездочки (`*`) цифрами.

#### Требования:
- Замените до 4 звездочек (`*`) цифрами.
- Звездочки должны быть в конце указанного номера кредитной карты.
- Номера печатаются в порядке возрастания.
- Выйти со статусом `1`, если есть какая-либо ошибка.
- Поддерживает флаг `--pick` для случайного выбора одного действительного номера.

#### Использование:
```bash
$ ./creditcard generate "440043018030****"
4400430180300003
4400430180300011
4400430180300029
...
4400430180309988
4400430180309996

$ ./creditcard generate --pick "440043018030****"
4400430180304385

$ ./creditcard generate --pick "44004301803*****"
$ echo $?
1
```

### 3. **Информация**
Функция `information` предоставляет сведения о карте на основе данных в `brands.txt` и `issuers.txt`.

#### Требования:
- Выводит номер карты, срок действия, марку и эмитента.
- Поддерживает флаг `--stdin` для передачи чисел из `stdin`.
- Поддерживает передачу нескольких записей.

#### Пример `brands.txt`:
```
VISA:4
MASTERCARD:51
MASTERCARD:52
MASTERCARD:53
MASTERCARD:54
MASTERCARD:55
AMEX:34
AMEX:37
```

#### Пример `issuers.txt`:
```
Kaspi Gold:440043
Forte Black:404243
Forte Blue:517792
Halyk Bonus:440563
Jusan Pay:539545
```

#### Использование:
```bash
$ ./creditcard information --brands=brands.txt --issuers=issuers.txt "4400430180300003"
4400430180300003
Верно: да
Бренд карты: VISA
Эмитент карты: Kaspi Gold

$ ./creditcard information --brands=brands.txt --issuers=issuers.txt "4400450180300003"
4400450180300003
Верно: нет
Бренд карты: -
Эмитент карты: -

$ echo "4400430180300003" | ./creditcard information --brands=brands.txt --issuers=issuers.txt --stdin
4400430180300003
Верно: да
Бренд карты: VISA
Эмитент карты: Kaspi Gold
```

### 4. **Выпуск**
Функция `выпуск` генерирует случайный действительный номер кредитной карты для указанного бренда и эмитента.

#### Требования:
- Выберите случайный номер для указанного бренда и эмитента.
- Выйдите со статусом `1`, если есть какая-либо ошибка.

#### Использование:
```bash
$ ./creditcard issue --brands=brands.txt --issuers=issuers.txt --brand=VISA --issuer="Kaspi Gold"
4400430180300003
```

## Требования

Программа создана на Go и соответствует следующим критериям:
- Должна успешно компилироваться с помощью `go build -o creditcard .`.
- Должна пройти форматирование с помощью `gofumpt`.
- Разрешены только встроенные пакеты Go.

## Установка

### Клонирование репозитория
```bash
$ git clone <repository_url>
$ cd <repository_directory>
```

### Сборка программы
```bash
$ go build -o creditcard .

```

## Структура файла
- `brands.txt`: Содержит префиксы брендов.
- `issuers.txt`: Содержит префиксы эмитентов.
- `creditcard`: Скомпилированный исполняемый файл.
- `main.go`: Точка входа для программы.
- `logics/`: Содержит бизнес-логику для проверки, генерации и т. д.

## Обработка ошибок

Программа обрабатывает различные ошибки:
- **Недопустимое количество аргументов**: Программа проверяет отсутствующие или неверные аргументы и выводит сообщение об ошибке.
- **Недопустимый номер кредитной карты**: Если номер карты недействителен или неправильно сформирован, выводится сообщение об ошибке.
- **Ошибки чтения файла**: Если `brands.txt` или `issuers.txt` отсутствуют или не могут быть прочитаны, выводится сообщение об ошибке.